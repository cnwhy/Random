<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Random by cnwhy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/jquery-1.11.1.min.js"></script>
    <script src='https://rawgit.com/cnwhy/Random/master/Random.js'></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script>
    $(function(){
        $('.demo').each(function(){
            var o = $(this);
            var d = $('<div class="codebox"><a href="#">显示源码</a><pre><code></code></pre></div>')
            d.find('pre').hide().find('code').text(o.html().replace(/^\n/,''));
            
            d.find('a').on('click',function(){
                d.find('pre').toggle(200,'linear');
                return false;
            });
            o.after(d)
        })
    })
    </script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Random</h1>
        <p class="header">常用随机数类 随机整数,随机真假,随机颜色,随机数组</p>
        <ul>
          <li class="download"><a class="buttons" href="https://github.com/cnwhy/Random/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/cnwhy/Random/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/cnwhy/Random">View On GitHub</a></li>
        </ul>
        <p class="header">This project is maintained by <a class="header name" href="https://github.com/cnwhy">cnwhy</a></p>


      </header>
      <section>

<h3>
<a id="gitInt" class="anchor" href="#gitInt" aria-hidden="true"><span class="octicon octicon-link"></span></a>.gitInt()随机整数</h3>
<div class="demo">
<p>范围<input type="text" name="v_min" value="0" size="3"> to <input type="text" name="v_max" value="100" size="3"> <button onclick="Rint()">确定</button> <input type="text" name="v_v" readonly value="" size="2"></p>
<script>
    function Rint(){
        var min = $('[name="v_min"]').val();
        var max = $('[name="v_max"]').val();
        var Rint = Random.getInt(min,max);
        $('[name="v_v"]').val(Rint)
    }
</script>
</div>

<h3>
<a id="getBool" class="anchor" href="#getBool" aria-hidden="true"><span class="octicon octicon-link"></span></a>.getBool()随机真假值</h3>
<div class="demo">
<style>
.cf{*zoom:1}
.cf:after{display:block;visibility:hidden;clear:both;height:0;content:'\20'}
.boolbox {padding:10px; disabled:none; background:#EEE; display:none;}
.boolbox>i,.boolbox>b {
    display:block; float:left; 
    margin:0 1px 1px 0; 
    width:5px; height:5px; 
    font-size:0; background:#999;
}
.boolbox>b {background:#55F;}
</style>
<p>
    为true几率:<input type="text" id="v_true" value="0.5" size="3"> 
    生成个数:<input type="text" id="v_bn" value="1000" size="6"> 
    <label>图型显示:<input type="checkbox" id="b_ui" checked></label>
    <button onclick="RBool()">确定</button>
    <br><span id="boolmsg"></span>
</p>

<div id="boolbox" class="boolbox cf"></div>
<script>
    var b_ui = $('#b_ui')
        ,boolbox = $('#boolbox')
        ,boolmsg = $('#boolmsg')
    b_ui.on('change',function(){$(this).prop("checked") || boolbox.hide();})
    function RBool(){
        var t = +$('#v_true').val();
        var n = +$('#v_bn').val();
        var bools = [],tn = 0;
        for(var i=n; i--;){
            var rBool = Random.getBool(t) //生成随机bool值
            bools.push(rBool)
        }
        for(var ii=0; ii<bools.length; ii++){
            bools[ii] && tn++;
        }
        var hv = tn/n*100;
        var html = '生成' + n + '次,' 
                + '<strong>true</strong> ' + tn + '次'
                + '(<span style="color:red;">' + hv  + '%</span>)';
        boolmsg.html(html);
        b_ui.prop("checked") && showBool(bools);
    }
    function showBool(arr){
        var html = ''
        for(var i=0; i<arr.length; i++){
            html += arr[i] ? '<b></b>' : '<i></i>';
        }
        boolbox.html(html).show();
    }
</script>
</div>

<h3>
<a id="getColor" class="anchor" href="#getColor" aria-hidden="true"><span class="octicon octicon-link"></span></a>.getHexRGB()随机颜色</h3>
<div class="demo">
<style>
.testColor{
    margin:10px; padding:20px; font-size:30px; 
    text-align:center; font-weight:bold;
    background:#EEE;
}
</style>
<p>
<button onclick="RColor();">随机改变颜色</button>
<button onclick="RColor1();">文字深色背景浅色</button>
<button onclick="RColor2();">文字红色系背景蓝色系</button></p>
<div id="d1" class="testColor">Random Color</div>
<script>
    var d1 = document.getElementById('d1');
    function RColor(){
        d1.style.color = "#" + Random.getHexRGB();
        d1.style.backgroundColor = "#" + Random.getHexRGB();

    }
    function RColor1(){
        d1.style.color = "#" + Random.getHexRGB(150,150,150);
        d1.style.backgroundColor = "#" + Random.getHexRGB(-200,-200,-200);
    }
    function RColor2(){
        d1.style.color = "#" + Random.getHexRGB(-180,80,80);
        d1.style.backgroundColor = "#" + Random.getHexRGB(80,80,-180);
    }
</script>
</div>

<h3>
<a id="gitInt" class="anchor" href="#gitInt" aria-hidden="true"><span class="octicon octicon-link"></span></a>.gitInt()</h3>
<div class="demo">
<style>
.arrbox {
    min-height:200px; min-width:100%; position:relative; 
    display:-moz-box; display:-webkit-box; display:-ms-box;
    display:box; background:#EEE; margin:10px 0;
}
.arrbox>div {
    position:relative; height:100%; -moz-box-flex:1;
    -webkit-box-flex:1; box-flex:1; 
}
.arrbox>div>b {
    display:block; position:absolute; bottom:0; left:0; 
    width:50%; box-sizing:border-box; 
    max-width:30px; background:#999;
}
</style>
<p>
数组长度:<input type="text" name="arr_long" size="5" value="200">
<button onclick="RNewArr();">生成数组</button>
<button onclick="RarrUpset();">打乱数组</button>
<button onclick="RarrUpsetShuffle();">打乱数组(洗牌算法1次)</button>
<button onclick="RarrUpsetShuffle(5);">打乱数组(洗牌算法5次)</button>
<br><span id="arrmsg"></span></p>
<div class="arrbox" style="display:none;"></div>
<script>
    var arr=[];
    var msg1 = '';
    function RNewArr(){
        var t1 = new Date();
        var arr_ = [];
        var l = +$('[name="arr_long"]').val();
        for(var i=1; i<=l; i++){
            arr_.push(i);
        }
        msg1 = "生成数组耗时:" + (new Date()-t1);
        arr=arr_
        show(arr);
    }
    function RarrUpset(){
        var t1 = new Date();
        Random.arrUpset(arr);
        msg1 = "打乱耗时:" + (new Date()-t1);
        show(arr);
    }
    function RarrUpsetShuffle(n){
        var t1 = new Date();
        Random.arrUpsetShuffle(arr,n);
        msg1 = "打乱耗时:" + (new Date()-t1);
        show(arr);
    }
    function show(arr){
        var t1 = new Date();
        var l = arr.length
        var box = $('.arrbox').show();
        box.html('');
        box.css('width',l*2+"px")
        box.css("height",l+"px");
        var html=""
        for(var i=0; i<l; i++){
            var v = arr[i];
            var h = (v/l*100) + "%";
            html += '<div><b style="height:' + h + ';"></b></div>';
        }
        box.html(html);
        $("#arrmsg").text(msg1 + " 渲染耗时:" + (new Date()-t1));
    }
</script>
</div>

      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
